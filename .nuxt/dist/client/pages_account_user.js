(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{245:function(e,s,t){var a=t(352);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(19).default)("10077bde",a,!0,{})},351:function(e,s,t){"use strict";var a=t(245);t.n(a).a},352:function(e,s,t){(e.exports=t(18)(!1)).push([e.i,".user-box{display:flex;justify-content:center}.user-box .user{width:700px;margin:20px 0;border:1px solid #ddd;border-radius:10px}.user-box .user .avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.user-box .user .avatar-uploader .el-upload:hover{border-color:#409eff}.user-box .user .avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.user-box .user .avatar{width:178px;height:178px;display:block}",""])},370:function(e,s,t){"use strict";t.r(s);var a={middleware:"login",data:function(){return{imageUrl:"",userMsg:{}}},computed:{user:function(){return this.$store.state.user}},watch:{user:function(){this.getUser()}},mounted:function(){this.user&&this.getUser()},methods:{handleAvatarSuccess:function(e,s){this.imageUrl=URL.createObjectURL(s.raw),this.$message({message:"上传成功",type:"success",duration:1e3})},beforeAvatarUpload:function(e){var s="image/jpeg"===e.type,t=e.size/1024/1024<1;return s||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 1MB!"),s&&t},getUser:function(){var e=this;this.$axios.get("getUser",{params:{account:this.user.account}}).then(function(s){e.userMsg=s.data}).catch(function(e){console.log(e)})},submit:function(){var e=this;this.$axios.put("editUser",this.userMsg).then(function(s){s?e.$message({message:"修改成功",type:"success",duration:1e3}):e.$message({message:"修改失败",type:"error",duration:1e3})}).catch(function(e){console.log(e)})}}},r=(t(351),t(9)),o=Object(r.a)(a,function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"user-box"},[t("div",{staticClass:"user"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,data:{account:e.user.account},action:"/api/upload"}},[e.user.head||e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl||e.user.head}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),t("el-input",{attrs:{type:"text",disabled:"",clearable:""},model:{value:e.userMsg.account,callback:function(s){e.$set(e.userMsg,"account",s)},expression:"userMsg.account"}}),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"nikname",clearable:""},model:{value:e.userMsg.nikname,callback:function(s){e.$set(e.userMsg,"nikname",s)},expression:"userMsg.nikname"}}),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"github",clearable:""},model:{value:e.userMsg.github,callback:function(s){e.$set(e.userMsg,"github",s)},expression:"userMsg.github"}}),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"web",clearable:""},model:{value:e.userMsg.web,callback:function(s){e.$set(e.userMsg,"web",s)},expression:"userMsg.web"}}),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"information",clearable:""},model:{value:e.userMsg.information,callback:function(s){e.$set(e.userMsg,"information",s)},expression:"userMsg.information"}}),e._v(" "),t("el-button",{on:{click:e.submit}},[e._v("\n      submit\n    ")])],1)])},[],!1,null,null,null);o.options.__file="user.vue";s.default=o.exports}}]);